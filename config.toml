# Codex Configuration
# ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç”¨ã®è¨­å®š

# ãƒ¢ãƒ‡ãƒ«è¨­å®š
model = "gpt-5-codex"

# OpenAI Providerè¨­å®šã‚’ä¸Šæ›¸ã
# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®Responses APIã®ä»£ã‚ã‚Šã«Chat Completions APIã‚’ä½¿ç”¨
[model_providers.openai]
base_url = "https://api.openai.com/v1"
env_key = "OPENAI_API_KEY"
name = "OpenAI (Chat Completions API)"
requires_openai_auth = true
wire_api = "chat"

# ==================== ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ ====================
[sandbox]
default_mode = "read-only"

[approval]
policy = "on-request"

# ==================== MCP ã‚µãƒ¼ãƒãƒ¼ ====================
# Codex è‡ªèº«ã‚’ MCP ã‚µãƒ¼ãƒãƒ¼ã¨ã—ã¦ä½¿ç”¨
[mcp_servers.codex-agent]
args = ["mcp-server"]
command = "codex"
env.CODEX_CONFIG_PATH = "~/.codex/config.toml"
env.RUST_LOG = "info"

# ==================== ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ ====================
[subagents]
enabled = true
inherit_model = true
max_parallel = 4
token_budget = 40000
# ğŸ†• MCP çµŒç”±ã§ Codex ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨
use_codex_mcp = true

# ==================== ç›£æŸ»ãƒ­ã‚° ====================
[audit]
enabled = true
format = "json"
include_mcp_calls = true
include_tool_args = true
log_dir = "~/.codex/audit-logs"
